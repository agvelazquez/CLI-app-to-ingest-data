(self.webpackChunklite=self.webpackChunklite||[]).push([[8849],{48920:(e,n,i)=>{"use strict";i.d(n,{J:()=>T,d:()=>U});var t=i(63038),l=i.n(t),o=i(67294),a=i(59713),r=i.n(a),s=i(319),d=i.n(s),m=i(82492),u=i.n(m),c=i(46829),v=i(97521),p=i(77355),f=i(47230),k=i(20113),g=i(84739),S=i(17193),b=i(32317),h=i(93310),y=i(87691),E=function(e){var n=e.follower,i=n.name,t=n.bio,l=void 0===t?"":t,a=(0,g.B)(n);return o.createElement(p.x,{padding:"12px 0"},o.createElement(p.x,{display:"flex",alignItems:"flex-start",justifyContent:"space-between"},o.createElement(p.x,{display:"flex",alignItems:"flex-start"},o.createElement(p.x,{marginRight:"20px"},o.createElement(S.Yt,{user:n,scale:"S"})),o.createElement(p.x,{display:"flex",flexDirection:"column",alignItems:"flex-start"},o.createElement(h.r,{href:a},o.createElement(k.X6,{scale:"XS"},i)),o.createElement(y.F,{scale:"S"},l))),o.createElement(p.x,{marginLeft:"48px"},o.createElement(b.Bv,{buttonSize:"SMALL",user:n,susiEntry:"follow_list"}))))},x=i(78693),w=i(27048),N={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"DialogFollower_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"bio"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserFollowButton_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvatar_user"}}]}}].concat(d()(x.s.definitions),d()(w.W.definitions))},C={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherFollowersDialog_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"followersUserConnection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"Variable",name:{kind:"Name",value:"pagingInfo"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"users"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DialogFollower_user"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"next"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"to"}},{kind:"Field",name:{kind:"Name",value:"from"}},{kind:"Field",name:{kind:"Name",value:"limit"}}]}}]}}]}}]}}].concat(d()(N.definitions))},F={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PublisherFollowersDialogUserQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pagingInfo"}},type:{kind:"NamedType",name:{kind:"Name",value:"PagingOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherFollowersDialog_publisher"}}]}}]}}].concat(d()(C.definitions))},D={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PublisherFollowersDialogPublicationQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pagingInfo"}},type:{kind:"NamedType",name:{kind:"Name",value:"PagingOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherFollowersDialog_publisher"}}]}}]}}].concat(d()(C.definitions))},_=function(e){var n,i,t,l,a,s=e.publisher,m=e.followerCount,g=e.isVisible,S=e.hide,b=(0,c.useQuery)("User"===s.__typename?F:D,{variables:{id:s.id,pagingInfo:{limit:10}}}),h=b.data,y=b.error,x=b.fetchMore,w="User"===s.__typename?"user":"collection",N=null==h||null===(n=h[w])||void 0===n||null===(i=n.followersUserConnection)||void 0===i?void 0:i.users,C=null==h||null===(t=h[w])||void 0===t||null===(l=t.followersUserConnection)||void 0===l||null===(a=l.pagingInfo)||void 0===a?void 0:a.next;return y||0===m?null:o.createElement(v.V,{isVisible:g,hide:S,withAnimation:!0},o.createElement(p.x,{maxWidth:"550px"},o.createElement(p.x,{display:"flex",flexDirection:"column",textAlign:"center",marginBottom:"24px"},o.createElement(k.X6,{scale:"S"},m," Followers")),null==N?void 0:N.map((function(e){return o.createElement(E,{follower:e,key:e.id})})),C&&o.createElement(p.x,{display:"flex",flexDirection:"column",margin:"24px",alignItems:"center"},o.createElement(f.z,{buttonStyle:"SOCIAL",size:"SMALL",onClick:function(){if(C){var e=C.limit,n=C.to,i=C.from;x({variables:{pagingInfo:{limit:e,to:n,from:i}},updateQuery:function(e,n){var i,t,l,o,a,s,m=n.fetchMoreResult;return u()({},m,r()({},w,{followersUserConnection:{users:[].concat(d()(null!==(i=null===(t=e[w])||void 0===t||null===(l=t.followersUserConnection)||void 0===l?void 0:l.users)&&void 0!==i?i:[]),d()(null!==(o=null==m||null===(a=m[w])||void 0===a||null===(s=a.followersUserConnection)||void 0===s?void 0:s.users)&&void 0!==o?o:[]))}}))}})}}},"Show more followers"))))},I=i(21372),U=function(e){var n,i,t=null!==(n="Collection"===e.__typename?e.subscriberCount:null===(i=e.socialStats)||void 0===i?void 0:i.followerCount)&&void 0!==n?n:0;return{followerCount:t,isFollowerCountVisible:t>0}},T=function(e){var n=e.publisher,i=e.disableLink,t=void 0!==i&&i,a=e.linkStyle,r=void 0===a?"SUBTLE":a,s=e.scale,d=void 0===s?"L":s,m=U(n),u=m.followerCount,c=m.isFollowerCountVisible,v=o.useState(!1),p=l()(v,2),f=p[0],k=p[1],g=!t;if(!c)return null;var S="".concat((0,I.pY)(u)," Follower").concat(1===u?"":"s");return g?o.createElement(o.Fragment,null,o.createElement(y.F,{playwrightClassName:"pw-follower-count",tag:"span",scale:d},o.createElement(h.r,{onClick:function(){return k(!0)},linkStyle:r},S)),o.createElement(_,{hide:function(){return k(!1)},publisher:n,followerCount:u,isVisible:f})):o.createElement(y.F,{tag:"span",scale:d,color:"DARKER"},S)}},27442:(e,n,i)=>{"use strict";i.d(n,{f:()=>p,w:()=>f});var t=i(28655),l=i.n(t),o=i(67154),a=i.n(o),r=i(6479),s=i.n(r),d=i(71439),m=i(67294),u=i(74954),c=i(77355);function v(){var e=l()(["\n  fragment CustomBackgroundWrapper_customStyleSheet on CustomStyleSheet {\n    id\n    global {\n      colorPalette {\n        background {\n          ...getHexFromColorValue_colorValue\n        }\n      }\n    }\n  }\n  ","\n"]);return v=function(){return e},e}var p=function(e){var n=e.children,i=e.customStyleSheet,t=s()(e,["children","customStyleSheet"]);return m.useMemo((function(){var e,n;return(0,u.eQ)(null==i||null===(e=i.global)||void 0===e||null===(n=e.colorPalette)||void 0===n?void 0:n.background)}),[i])?m.createElement(c.x,a()({backgroundColor:"BACKGROUND"},t),n):m.createElement(c.x,t,n)},f=(0,d.Ps)(v(),u.xW)},24330:(e,n,i)=>{"use strict";i.d(n,{N:()=>d});var t=i(63038),l=i.n(t),o=i(67294),a=i(32317),r=i(27927),s=i(77355),d=function(e){var n=e.creator,i=e.followButtonSize,t=void 0===i?"REGULAR":i,d=e.shouldHideTooltip,m=void 0!==d&&d,u=e.post,c=e.showMembershipUpsellModal,v=e.showFirstUseToolTip,p=e.susiEntry,f=e.isVisible,k=e.width,g=e.isSubscribeCompact,S=void 0!==g&&g,b=o.useState(!1),h=l()(b,2),y=h[0],E=h[1];return o.createElement(o.Fragment,null,o.createElement(a.Bv,{buttonSize:t,onClick:function(){n.viewerEdge.isFollowing||E(!0)},post:u,user:n,susiEntry:p,width:k}),o.createElement(s.x,{marginLeft:S?"4px":"8px"},o.createElement(r.X,{user:n,showMembershipUpsellModal:c,showPostFollowSubscribeTooltip:y&&!m,hidePostFollowSubscribeTooltip:function(){return E(!1)},showFirstUseToolTip:v,isVisible:f,isCompact:S})))}},72619:(e,n,i)=>{"use strict";i.d(n,{d0:()=>U,_k:()=>T});var t=i(28655),l=i.n(t),o=i(71439),a=i(67294),r=i(46580),s=i(20539),d=i(27442),m=i(54878),u=i(17878),c=i(25735),v=i(6443),p=i(14818),f=i(77355),k=i(96370),g=i(47230),S=i(93310),b=i(21755),h=i(8126),y=i(87691),E=i(18627),x=i(66411),w=i(43487),N=i(87498),C=i(17583),F=i(78870),D=i(50458),_=i(68216);function I(){var e=l()(["\n  fragment EntityDrivenSubscriptionLandingPageScreen_writer on User {\n    name\n    imageId\n    id\n    username\n    isPartnerProgramEnrolled\n    referredMembershipCustomHeadline\n    referredMembershipCustomBody\n    customStyleSheet {\n      ...CustomThemeProvider_customStyleSheet\n      ...CustomBackgroundWrapper_customStyleSheet\n      ...MetaHeader_customStyleSheet\n    }\n    ...MetaHeader_publisher\n    ...userUrl_user\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return I=function(){return e},e}var U=function(e){var n,i,t=e.user,l=e.redirectExperiment,o=e.postId,_=(0,w.v9)((function(e){return e.config.authDomain})),I=(0,x.pK)(),U=(0,v.H)().value,T=(0,E.Av)(),V=(0,w.v9)((function(e){return e.config.productName})),B=U&&U.id===t.id,L=(0,C.s)()||b.j.lg,A=!!(0,c.VB)({name:"enable_referred_memberships_custom_messaging",placeholder:!1}),P=L===b.j.xs||L===b.j.sm;a.useEffect((function(){T.event("entityDrivenSubscriptionPage.viewed",{creatorId:null==t?void 0:t.id,source:I})}),[]);var M=a.useCallback((function(){T.event("entityDrivenSubCallToAction.clicked",{userId:null==U?void 0:U.id,entityId:null==t?void 0:t.id})}),[t,null==U?void 0:U.id,_]);if(!t)return null;var R=null!==(n=t.name)&&void 0!==n?n:"",z=null!==(i=t.imageId)&&void 0!==i?i:N.gG,G=t.id,O=(0,D.AWr)(t,_),H=(0,F.Rk)((0,D.c5p)(_),{subscribeToUserId:G,susiEntry:"entity_driven_subscription_lp"}),j=o?(0,D.o2w)(_,o):O,W=null!=U&&U.mediumMemberAt?O:H,K="Read every story from ".concat(R," (and thousands of other writers on ").concat(V,")."),Q="Your membership fee directly supports ".concat(R," and other writers you read. You'll also get full access to every story on ").concat(V,"."),X=A&&t.referredMembershipCustomHeadline?t.referredMembershipCustomHeadline:K,Y=A&&t.referredMembershipCustomBody?t.referredMembershipCustomBody:Q;return a.createElement(a.Fragment,null,a.createElement(x.cW,{source:{name:"entity_driven_subscription",userId:G}},a.createElement(m.G8,{customStyleSheet:t.customStyleSheet},a.createElement(d.f,{customStyleSheet:t.customStyleSheet},a.createElement(f.x,{display:"flex",height:"100vh",flexDirection:"column"},a.createElement(f.x,null,P?a.createElement(r.kw,{isLogoCentered:!1,marginBottomSm:0}):a.createElement(s.Go,{forceSmall:!0,publisher:t,customStyleSheet:t.customStyleSheet})),a.createElement(f.x,{display:"flex",height:"0",flexGrow:"1",textAlign:"center",justifyContent:"center",alignItems:"center",flexDirection:"column"},a.createElement(k.P,{size:"inset"},a.createElement(f.x,{display:"flex",paddingBottom:"32px",justifyContent:"center"},a.createElement(u.s,null,a.createElement(p.z,{miroId:z,alt:R||"",diameter:128,freezeGifs:!1})),a.createElement(u.e,null,a.createElement(p.z,{miroId:z,alt:R||"",diameter:80,freezeGifs:!1}))),a.createElement(f.x,{paddingBottom:"20px"},a.createElement(h.F1,{scale:{xs:"S",sm:"S",md:"L",lg:"L",xl:"L"}},X)),a.createElement(f.x,{paddingBottom:"20px"},a.createElement(y.F,{scale:"L",color:"DARKER"},Y)),a.createElement(f.x,{display:"flex",paddingBottom:"20px",flexDirection:{xs:l?"column-reverse":void 0,sm:l?"column-reverse":void 0,md:void 0,lg:void 0,xl:void 0},justifyContent:"center"},l&&a.createElement(f.x,{paddingRight:{xs:void 0,sm:void 0,md:"12px",lg:"12px",xl:"12px"},paddingTop:{xs:"12px",sm:"12px",md:void 0,lg:void 0,xl:void 0}},a.createElement(g.z,{href:j,buttonStyle:"OBVIOUS",size:"LARGE"},"Not now")),a.createElement(f.x,null,a.createElement(g.z,{onClick:M,href:W,buttonStyle:"STRONG",size:"LARGE"},"Become a member"))),!l&&!B&&a.createElement(y.F,{scale:"L",color:"DARKER",tag:"span"},a.createElement(S.r,{linkStyle:"SUBTLE",href:O},"Visit ",R,"'s profile")),A&&B&&a.createElement(y.F,{scale:"L",color:"ACCENT",tag:"span"},a.createElement(S.r,{linkStyle:"SUBTLE",href:(0,D.mEF)(_)},"Edit this message")))))))))},T=(0,o.Ps)(I(),_.$m,m.Kc,d.w,s.Mv,s.aU)}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/8849.e115d3a3.chunk.js.map